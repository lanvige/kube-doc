# etcd 介绍

etcd 本身是一个可以用的存储系统，在 kubernetes 生态中，使用其来存取各种状态。



![](data:image/png;base64,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)




* [https://github.com/coreos/etcd](https://github.com/coreos/etcd)
* [https://coreos.com/etcd/docs/latest/](https://coreos.com/etcd/docs/latest/)



etcd is a distributed reliable key-value store for the most critical data of a distributed system, with a focus on being:

* Simple: well-defined, user-facing API (gRPC)
* Secure: automatic TLS with optional client cert authentication
* Fast: benchmarked 10,000 writes/sec
* Reliable: properly distributed using Raft

etcd is a distributed key value store that provides a reliable way to store data across a cluster of machines. It’s open-source and available on GitHub. etcd gracefully handles leader elections during network partitions and will tolerate machine failure, including the leader.

Your applications can read and write data into etcd. A simple use-case is to store database connection details or feature flags in etcd as key value pairs. These values can be watched, allowing your app to reconfigure itself when they change.

Advanced uses take advantage of the consistency guarantees to implement database leader elections or do distributed locking across a cluster of workers

coreos 开发的分布式服务系统，内部采用 raft 协议作为一致性算法。作为服务发现系统，有以下的特点：

* 简单：安装配置简单，而且提供了 HTTP API 进行交互，使用也很简单
* 安全：支持 SSL 证书验证
* 快速：根据官方提供的 benchmark 数据，单实例支持每秒 2k+ 读操作
* 可靠：采用 raft 算法，实现分布式系统数据的可用性和一致性

[https://github.com/coreos/etcd/tree/master/etcdctl](https://github.com/coreos/etcd/tree/master/etcdctl)


## 安装

### 第一种

```
brew install etcd
```


==> Downloading [https://homebrew.bintray.com/bottles/etcd-3.2.10.high_sierra.bottle.tar.gz](https://homebrew.bintray.com/bottles/etcd-3.2.10.high_sierra.bottle.tar.gz)

######################################################################## 100.0%

==> Pouring etcd-3.2.10.high_sierra.bottle.tar.gz

==> Caveats

To have launchd start etcd now and restart at login:

  brew services start etcd

Or, if you don't want/need a background service you can just run:

  etcd

==> Summary

🍺  /usr/local/Cellar/etcd/3.2.10: 9 files, 52.0MB



[https://coreos.com/etcd/docs/latest/v2/docker_guide.html](https://coreos.com/etcd/docs/latest/v2/docker_guide.html)

这里指的安装，并且在 Kubernetes 下。

## Reading and writing to etcd

第一种是通过 ctl 的方式来进行读写



$ etcdctl set /message Hello

Hello

$ etcdctl get /message

Hello

$ etcdctl rm /message



还有一种是通过 http 的方式：



$ curl -X PUT http://127.0.0.1:2379/v2/keys/message -d value="Hello"

{"action":"set","node":{"key":"/message","value":"Hello","modifiedIndex":4,"createdIndex":4}}

$ curl http://127.0.0.1:2379/v2/keys/message

{"action":"get","node":{"key":"/message","value":"Hello","modifiedIndex":4,"createdIndex":4}}

$ curl -X DELETE http://127.0.0.1:2379/v2/keys/message

{"action":"delete","node":{"key":"/message","modifiedIndex":19,"createdIndex":4}}



## Reading and writing from inside a container

Reading and writing from inside a container



* [https://coreos.com/etcd/docs/latest/getting-started-with-etcd.html](https://coreos.com/etcd/docs/latest/getting-started-with-etcd.html)



REF:



* [初试ETCD](https://tonydeng.github.io/2015/11/24/etcd-the-first-using/): [https://tonydeng.github.io/2015/11/24/etcd-the-first-using/](https://tonydeng.github.io/2015/11/24/etcd-the-first-using/)

